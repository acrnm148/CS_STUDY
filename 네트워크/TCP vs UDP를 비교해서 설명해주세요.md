## TCP vs UDP를 비교해서 설명해주세요.
- TCP는 연결형, 신뢰성 전송 프로토콜입니다.
  연결지향적 서비스를 제공하기 위해
  1. 데이터를 전송하기 전에 3way handshaking을 하여 두 호스트의 전송계층 사이에 논리적 연결(세션 수립 과정)을 설립합니다.
  2. 신뢰성있는 서비스를 제공하기 위해 오류제어, 흐름제어, 혼잡제어 등을 실행합니다.
- 장점: 신뢰성이 보장된다.
- 단점: 신뢰성을 보장하기 위해 Header가 더 크다 / 속도가 비교적 느리다.

- UDP는 비연결형, 비신뢰성 전송 프로토콜입니다.
  3way handshaking과 같은 세션 수립 과정이 없습니다.
  비신뢰성 프로토콜로 흐름제어, 혼잡제어, 오류제어를 제공하지 않습니다. (수신여부를 확인하지 않음)
- 장점: 통신의 단순성으로 오버헤드가 적다 / 수신여부를 확인하지 않아 속도가 빠르다.
- 단점: 신뢰성이 보장되지 않는다.

[활용]
=> TCP는 신뢰성이 중요한 통신(HTTP, File전송 등)에 쓰이고,
    UDP는 실시간성이 중요한 통신(동영상 스트리밍)에 주로 사용된다.


## TCP/IP 전송계층
-> TCP, UDP 프로토콜.
TCP/IP는 인터넷에서 사용하는 프로토콜 그룹입니다.
TCP/IP는 응용계층, 전송계층, 네트워크계층, 데이터링크계층, 물리계층으로 5계층으로 나뉩니다.

그 중 전송계층은 2개의 응용계층 사이에서의 process to process 통신을 제공합니다. 
전송계층은 응용계층으로부터 메시지를 받아 전송계층 패킷으로 캡슐화하여 전송합니다.
(패킷: 두 종단 사이의 통신은 패킷이라는 이름의 데이터 블록에 의해 이루어짐. -> TCP의 패킷명: 세그먼트(segment) / UDP의 패킷명: datagram(데이터그램) )
(process는 응용계층에서 구동 중인 프로그램. 자신의 port number를 가짐.)

전송계층의 주된 프로토콜은 TCP, UDP 입니다.
- TCP는 연결형, 신뢰성 프로토콜입니다.
- TCP로 전송하는 패킷을 "세그먼트(segment)"라고 부릅니다.

- UDP는 비연결형, 비신뢰성 프로토콜입니다.
- UDP로 전송하는 패킷을 "데이터그램(datagram)"이라고 부릅니다.


## TCP (Transfer Control Protocol)
- TCP는 연결형, 신뢰성 전송 프로토콜입니다.
1. 연결지향적 서비스를 제공하기 위해
   1- **connection setup**       : 데이터를 전송하기 전에 두 호스트의 전송계층 사이에 3way handshaking을 통해 논리적 연결을 수립합니다.
   2- **data transfer**          : 그 후 데이터를 전송합니다.
   3- **connection termination** : 데이터 전송이 완료되었으면 연결을 해제합니다.
2. 신뢰성 있는 서비스를 제공하기 위해
   - TCP는 전체 스트림을 순서에 맞게, 오류 없이, 부분적손실 또는 중복 없이 전송하는 것을 보장합니다. => 이를 가능하게하는 방법은 오류제어, 흐름제어, 혼잡제어 등이 있습니다.
     => 흐름제어 : 데이터를 보내는 속도와 받는 속도의 균형을 맞추는 것.
     => 오류제어 : 훼손된 segment를 감지하고 재전송, 중복 segment를 감지하고 폐기, 순서에 맞지 않게 도착한 segment 정렬하는 것.  
     => 혼잡제어 : 
   - 이런 것들을 할 수 있도록 하는 것은 TCP header의 값들(checksum, 확인응답, 타임-아웃)을 통해 제어를 수행합니다.
![image](https://github.com/acrnm148/CS_STUDY/assets/67724306/ca499d43-a3e3-4afc-82ac-d52245c30336)


### TCP를 사용한 데이터 전송 과정
데이터(메시지1,2,3) 전송 시
1. 클라이언트의 응용계층에서 전송계층으로 connection-open request (커넥션 요청)
2. 클라이언트의 전송계층과 서버의 전송계층 사이 3way handshaking이 일어남(커넥션 셋업)
=> 이제 준비 다 됨. 데이터 전송 가능. ======================================================================================
(데이터 트랜스퍼)
4. 클라이언트의 응용계층에서 메시지1이 전송계층 프로토콜로 전송되고, TCP/IP 4계층에 따라 캡슐화, 역캡슐화를 거쳐 서버의 전송계층에 전송되고 응용계층으로 전송됨.
  ~> 메시지 1,2,3 마찬가지. 하지만 메시지3이 메시지2보다 먼저 도착한 경우, 흐름제어를 통해 메시지3은 홀드되었다가 메시지2가 도착하면 그 이후에 전송됨.
=> 데이터 전송 끝. ========================================================================================================
5. 클라이언트의 응용계층에서 전송계층으로 connection-close request (커넥션 종료 요청)
6. 클라이언트의 전송계층과 서버의 전송계층 사이에 4way handshakinig이 일어남 (커넥션 터미네이션)

=> 데이터 전송 전 커넥션 셋업 / 전송 중 오류제어, 흐름제어, 혼잡제어 / 전송 후 커넥션 터미네이션이 발생하고
  전송 중 데이터가 손실되진 않았는지, 순서는 잘 맞게 왔는지, 중복되진 않았는지를 판별하여
  연결지향적이고 신뢰성 있는 서비스를 보장한다.



## UDP
- UDP는 비연결형, 비신뢰성 전송 프로토콜입니다.
- UDP는 논리적 연결(3way handshaking)을 설립하지 않고 datagram을 전송하는 비연결형 프로토콜입니다.
- 흐름제어, 오류제어, 혼잡제어를 제공하지 않는 간단한 프로토콜입니다.
- 때문에 헤더가 단순하여 적은 양의 오버헤드를 가집니다.

그렇기 때문에 작은 메시지를 보내거나, 신뢰성을 크게 고려하지 않아도 되는 상황에서 사용합니다.
예시1)
매우 큰 문서 파일을 보낼 경우 - TCP 사용
다운로드 완료된 파일이 일부 손실되거나 훼손되어 있으면 안되기 때문입니다.
문서 파일 전송시에 발생하는 지연은 중요하지 않습니다. 따라서 신뢰성 보장을 위한 TCP를 사용합니다.

예시2)
live방송 - UDP 사용
실시간 상호작용하는 응용프로그램의 경우, 음성과 영상을 한 프레임(물리적 메모리 단위)씩 전송합니다.
전송계층에서 훼손되거나 손실된 프레임을 재전송하면 전체적으로 지연이 될 것입니다.
따라서 UDP를 사용하여 한 프레임씩 datagram으로 전송한다면 
패킷이 손실되어도 짧은 시간동안 화면의 일부분이 일시직으로 공백으로 표시되고, 시청자들은 이를 잘 인식하지 못합니다.
이 때는 신뢰성보다 실시간성이 중요하기 때문에 UDP를 사용합니다.

![image](https://github.com/acrnm148/CS_STUDY/assets/67724306/90735285-bf29-4ef3-b28d-71922c1cd266)


```
TCP : 3wayhandshaking + segment + 4wayhandshaking + 흐름제어/오류제어/혼잡제어
UDP : datagram
```
-> UDP는 상당히 단순함



