##Multi Process 환경에서 Process 간에 데이터를 어떻게 주고 받을까요?

- 원칙적으로 process는 독립적인 주소 공간을 갖기 때문에, 다른 process의 주소 공간을 참조할 수 없습니다. (데이터를 공유하고 있지 않다.)
하지만 경우에 따라서 운영체제는 process 간의 자원 접근을 위한 매커니즘인 프로세스 간 통신(IPC, Inter Process Communication)을 제공합니다.
프로세스 간 통신(IPC) 방법으로는 파이프, 파일, 소켓, 공유메모리 등을 이용한 방법이 있습니다.


## IPC (Inter Process Communication)

- process는 각자 자신만의 독립적인 주소공간을 가지는데, 다른 process가 이 주소공간을 참조하는 것은 허용하지 않습니다.
그렇기 때문에 다른 process와 데이터를 주고받을 수 없습니다.
- 이를 해결하고자 운영체제는 IPC기법을 통해 process들 간에 통신을 가능하게 해줍니다.

process간 통신(IPC)에는 기본적으로 공유메모리와 메시지전달 2가지 모델이 있습니다.



## 공유 메모리(shared memory) 방식
공유메모리 방식에서는 process들이** 주소 공간의 일부를 공유**합니다. 공유한 메모리 영역에 읽기/쓰기를 통해서 통신을 수행합니다. 
1. process가 공유 메모리 할당을 커널에 요청하면
2. 커널은 해당 process에 메모리 공간(공유 메모리 영역)을 할당해줍니다.
3. 공유 메모리 영역이 구축된 이후에는 모든 접근이 일반적인 메모리 접근으로 취급되기 때문에 더 이상 커널의 도움없이도 각 process들이 해당 메모리 영역에 접근할 수 있습니다.
=> 장점: 커널의 관여 없이 데이터를 통신할 수 있기 때문에 IPC 속도가 빠르다는 장점이 있습니다.

공유메모리 방식은 process 간의 통신을 수월하게 만들지만 동시에 같은 메모리 위치에 접근하게 되면 일관성 문제가 발생할 수 있습니다.
이에 대해서는 커널이 관여하지 않기 때문에 process들끼리 직접 공유 메모리 접근에 대한 동기화 문제를 책임져야 합니다.

![image](https://github.com/acrnm148/CS_STUDY/assets/67724306/2ebd6996-cc7a-4439-95f2-64727c49f748)

공유메모리 방식은 프로세스들이 주소 공간의 일부를 공유하는 것입니다.
프로세스1이 커널에게 공유 메모리 할당을 요청하면
커널은 프로세스1에게 공유 메모리 공간을 할당해줍니다.
이후 더 이상 커널의 관여 없이 프로세스들간의 메모리 공유가 가능해집니다.

때문에 속도가 빠르다는 장점이 있지만
여러 개의 프로세스가 동시에 같은 메모리 주소를 참조하게 될 경우, 동기화 문제가 발생할 수 있습니다.


##메시지 전달(message passing) 방식

메시지 전달 방식은 시스템 콜을 사용하여 구현됩니다.
커널을 통해 send, receive 라는 2가지 연산을 제공받습니다.
예를 들면, 프로세스1이 커널로 메시지를 보내면, 커널은 프로세스2에게 메시지를 전달합니다.

메시지 전달은 메모리 공유보다는 커널이 관여하게 되면서 속도가 느리다는 단점이 있습니다.
하지만 동시에 메모리 접근에 따른 일관성, 동기화 문제가 없다는 장점이 있습니다. (충돌을 회피할 필요가 없으므로) => 적은 양의 데이터를 교환하는데 유용합니다.
또 구현하기가 쉽다는 장점이 있습니다.

대표적인 예시로는 파이프, 소켓, 메시지큐가 있습니다.

### 시스템 콜
프로세스가 커널에게 요청하는 것.


## IPC의 예시를 들어주실 수 있나요?
``` 
IPC는 크게 공유 메모리 모델과 메시지 전달 모델이 있습니다.

공유 메모리 모델은 커널로부터 공유 메모리 공간을 할당받아 read와 write를 통해 통신합니다.
예시로는 공유 메모리, POSIX가 있습니다.

메시지 전달 모델은 커널로부터 send와 receive를 제공받아 프로세스간 통신합니다.
예시로는 파이프, 소켓, 메시지큐가 있습니다.
```

## 공유메모리와 메시지 전달 모델의 장단점을 설명해주세요.
```
공유메모리 모델은
커널이 관여하여 공유메모리를 할당해주고, 이 이후로는 커널이 관여하지 않기 때문에 통신 속도가 빠르다는 장점이 있습니다.
하지만 여러 프로세스가 동시에 같은 메모리 공간에 접근할 수 있기 때문에 일관성 문제가 발생할 수 있어 별도의 동기화 과정이 필요하다는 단점이 있습니다. 

메시지 전달 모델은
커널을 통해서 send, receive로 데이터를 주고받기 때문에 통신 속도가 느리다는 단점이 있습니다.
하지만 커널이 중간에서 제어하기 때문에 안전하고, 커널이 동기화를 제공해주는 장점이 있습니다.
```

